<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PokemonGame2.0</title>
    <link rel="stylesheet" href="game.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.8.1/socket.io.js" integrity="sha512-8BHxHDLsOHx+flIrQ0DrZcea7MkHqRU5GbTHmbdzMRnAaoCIkZ97PqZcXJkKZckMMhqfoeaJE+DNUVuyoQsO3Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <canvas id="fire-fx"></canvas>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <div class="player-info">
                <div class="avatar-section">
                    <img id="player-avatar" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/trainers/1.png" alt="Player Avatar">
                    <div class="avatar-controls">
                        <button id="change-avatar-btn" class="rect-btn">Change Avatar</button>
                        <input type="file" id="avatar-upload" accept="image/*" style="display: none;">
                    </div>
                </div>
                <div class="player-details">
                    <h2 id="player-name">Jim</h2>
                    <div class="coin-balance">
                        <span class="coin-icon">₿</span>
                        <span id="coin-amount">0</span>
                    </div>
                
                </div>
            </div>
          
<div class="wallet-section">
    <button id="connect-wallet-btn" class="nav-btn wallet-connect">Connect Wallet</button>
    <div id="wallet-info" class="wallet-info"></div>
</div>
            <nav class="nav-menu">
                <button id="marketplace-btn" class="nav-btn">Marketplace</button>
                <button id="save-game-btn" class="nav-btn">Save Game</button>
            </nav>
            <img src="ash-y-pikachu-pokemon-ash-and-pikachu-artwork-png-clipart-removebg-preview.png" class="pokeball1">
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-left">
                <!-- Pokemon Selection Section -->
                <section class="pokemon-selection">
                    <h2>Select Your Pokemon</h2>
                    <div class="selection-controls">
                        <button id="prev-pokemon" class="control-btn">◀</button>
                        <div class="selected-pokemon-display">
                            <div id="selected-pokemon-gif" class="pokemon-gif"></div>
                            <h3 id="selected-pokemon-name">Pikachu</h3>
                            <p id="selected-pokemon-type">Type: <span>Electric</span></p>
                            <p id="selected-pokemon-stats">HP: <span>35</span> | ATK: <span>55</span></p>
                        </div>
                        <button id="next-pokemon" class="control-btn">▶</button>
                    </div>
                    <button id="select-pokemon-btn" class="action-btn primary">Select Pokemon</button>
                </section>

                <!-- Action Buttons -->
                <section class="action-buttons">
                    <button id="battle-btn" class="action-btn battle">Battle Begin!</button>
                </section>
            </div>

            <div class="content-right">
                <!-- Pokemon Collection -->
                <section class="pokemon-collection">
                    <h3>Your Pokemon Collection</h3>
                    <div class="collection-info">
                        <span id="collection-count">15/50 Pokemon</span>
                        <span id="collection-value">Total Value: ₿ 12,350</span>
                    </div>
                    <div class="pokemon-grid" id="pokemon-grid">
                        <!-- Pokemon will be populated in game.js -->
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Change Name Modal -->
    <div id="name-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Change Trainee Name</h2>
            <input type="text" id="new-name-input" placeholder="Enter your new name" maxlength="20" value="Ash Ketchum">
            <button id="save-name-btn" class="rect-btn primary">Confirm Name Change</button>
        </div>
    </div>
   

<img class="wallp" src="img34.jpg" alt="img34">

    <!-- Marketplace Modal -->
    <div id="marketplace-modal" class="modal">
        <div class="modal-content large">
            <span class="close">&times;</span>
            <h2>Pokemon Marketplace</h2>
            <div class="marketplace-controls">
                <div class="search-box">
                    <input type="text" id="pokemon-search" placeholder="Search Pokemon...">
                </div>
                <div class="filter-controls">
                    <select id="type-filter">
                        <option value="all">All Types</option>
                        <option value="fire">Fire</option>
                        <option value="water">Water</option>
                        <option value="grass">Grass</option>
                        <option value="electric">Electric</option>
                        <option value="normal">Normal</option>
                    </select>
                    <select id="sort-filter">
                        <option value="id">Sort by ID</option>
                        <option value="name">Sort by Name</option>
                        <option value="price">Sort by Price</option>
                    </select>
                </div>
            </div>
            <div class="marketplace-items" id="marketplace-items">
                <!-- Marketplace items will be populated by JavaScript -->
            </div>
            <div class="marketplace-pagination">
                <button id="prev-page" class="page-btn">Previous</button>
                <span id="page-info">Page 1 of 5</span>
                <button id="next-page" class="page-btn">Next</button>
            </div>
        </div>
    </div>
    

    <script src="https://cdn.socket.io/4.4.1/socket.io.min.js"></script>
    <script src="game.js"></script>
    <script src="metamask.js"></script>
    <script>
        const canvas = document.getElementById("fire-fx");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const flames = [];
const flameCount = 45; // Slightly reduced for better performance with larger particles

// Generate intense fire particles
for (let i = 0; i < flameCount; i++) {
  flames.push({
    x: Math.random() * canvas.width,
    y: canvas.height + Math.random() * 100, // Start below canvas
    radius: Math.random() * 50 + 30, // Larger particles (30-80px)
    alpha: Math.random() * 0.6 + 0.4, // More opacity
    speed: Math.random() * 1.5 + 0.8, // Faster movement
    hue: 15 + Math.random() * 25, // Fire range (15-40) - orange to red
    saturation: 90 + Math.random() * 60, // High saturation
    brightness: 80 + Math.random() * 20, // Bright colors
    flickerSpeed: Math.random() * 0.05 + 0.02,
    flickerTime: Math.random() * Math.PI * 2,
    wobbleIntensity: Math.random() * 2 + 1,
    life: 1,
    decay: Math.random() * 0.008 + 0.005
  });
}

function animateFire() {
  // Create dark background with gradient for fire contrast
  const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
  gradient.addColorStop(0, "rgba(10, 5, 0, 0.9)"); // Dark orange-black
  gradient.addColorStop(1, "rgba(20, 8, 0, 0.95)"); // Darker orange-black
  ctx.fillStyle = gradient;
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  flames.forEach(f => {
    // Update flicker effect
    f.flickerTime += f.flickerSpeed;
    const flicker = Math.sin(f.flickerTime) * 0.3 + 0.7;
    
    // Calculate current radius with flicker
    const currentRadius = f.radius * flicker;
    
    // Create intense fire glow with multiple gradients
    const glowGradient = ctx.createRadialGradient(
      f.x, f.y, 0, 
      f.x, f.y, currentRadius * 1.5
    );
    
    // Intense fire color spectrum
    glowGradient.addColorStop(0, `hsla(${f.hue}, 100%, 95%, ${f.alpha * 0.9})`);
    glowGradient.addColorStop(0.2, `hsla(${f.hue}, ${f.saturation}%, ${f.brightness}%, ${f.alpha * 0.7})`);
    glowGradient.addColorStop(0.5, `hsla(${f.hue + 10}, ${f.saturation - 10}%, ${f.brightness - 15}%, ${f.alpha * 0.5})`);
    glowGradient.addColorStop(1, "hsla(5, 85%, 10%, 0)"); // Deep red transparent
    
    ctx.fillStyle = glowGradient;
    ctx.beginPath();
    ctx.arc(f.x, f.y, currentRadius * 1.5, 0, Math.PI * 2);
    ctx.fill();

    // Inner core - brighter center
    const coreGradient = ctx.createRadialGradient(
      f.x, f.y, 0, 
      f.x, f.y, currentRadius
    );
    coreGradient.addColorStop(0, `hsla(${f.hue - 20}, 100%, 100%, ${f.alpha})`); // Yellow-white center
    coreGradient.addColorStop(0.5, `hsla(${f.hue}, 100%, 85%, ${f.alpha * 0.8})`); // Bright orange
    coreGradient.addColorStop(0.8, `hsla(${f.hue + 15}, 95%, 60%, ${f.alpha * 0.4})`); // Red-orange
    coreGradient.addColorStop(1, "hsla(10, 90%, 30%, 0)"); // Dark red
    
    ctx.fillStyle = coreGradient;
    ctx.beginPath();
    ctx.arc(f.x, f.y, currentRadius, 0, Math.PI * 2);
    ctx.fill();

    // Particle motion with more dynamic movement
    f.y -= f.speed * flicker;
    f.x += (Math.random() - 0.5) * f.wobbleIntensity;
    
    // Life cycle management
    f.life -= f.decay;
    f.alpha = f.life * 0.8;
    
    // Add some size variation
    f.radius += (Math.random() - 0.5) * 0.5;

    // Recycle particles when they die or go off screen
    if (f.life <= 0 || f.y < -100 || f.x < -100 || f.x > canvas.width + 100) {
      resetParticle(f);
    }
  });

  // Add occasional spark effects
  if (Math.random() < 0.1) {
    createSpark();
  }

  requestAnimationFrame(animateFire);
}

function resetParticle(particle) {
  particle.x = Math.random() * canvas.width;
  particle.y = canvas.height + Math.random() * 150;
  particle.radius = Math.random() * 50 + 30;
  particle.alpha = Math.random() * 0.6 + 0.4;
  particle.speed = Math.random() * 1.5 + 0.8;
  particle.hue = 15 + Math.random() * 25; // Fire colors
  particle.life = 1;
  particle.decay = Math.random() * 0.008 + 0.005;
  particle.wobbleIntensity = Math.random() * 2 + 1;
}

// Spark effect for more dynamic fire
const sparks = [];
function createSpark() {
  sparks.push({
    x: Math.random() * canvas.width,
    y: canvas.height - 50,
    radius: Math.random() * 8 + 4,
    alpha: 1,
    speed: Math.random() * 3 + 2,
    hue: 25 + Math.random() * 15, // Yellow-orange sparks
    life: 1
  });
}

function updateSparks() {
  for (let i = sparks.length - 1; i >= 0; i--) {
    const spark = sparks[i];
    
    const sparkGradient = ctx.createRadialGradient(
      spark.x, spark.y, 0, 
      spark.x, spark.y, spark.radius
    );
    sparkGradient.addColorStop(0, `hsla(${spark.hue}, 100%, 100%, ${spark.alpha})`);
    sparkGradient.addColorStop(0.7, `hsla(${spark.hue}, 100%, 80%, ${spark.alpha * 0.6})`);
    sparkGradient.addColorStop(1, `hsla(${spark.hue + 10}, 90%, 50%, 0)`);
    
    ctx.fillStyle = sparkGradient;
    ctx.beginPath();
    ctx.arc(spark.x, spark.y, spark.radius, 0, Math.PI * 2);
    ctx.fill();
    
    spark.y -= spark.speed;
    spark.x += (Math.random() - 0.5) * 2;
    spark.alpha -= 0.02;
    spark.life -= 0.02;
    
    if (spark.life <= 0) {
      sparks.splice(i, 1);
    }
  }
}

// Modified animate function to include sparks
function animateFireWithSparks() {
  const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
  gradient.addColorStop(0, "rgba(10, 5, 0, 0.9)"); // Dark background for fire
  gradient.addColorStop(1, "rgba(20, 8, 0, 0.95)");
  ctx.fillStyle = gradient;
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  // Update and draw flames
  flames.forEach(f => {
    f.flickerTime += f.flickerSpeed;
    const flicker = Math.sin(f.flickerTime) * 0.3 + 0.7;
    const currentRadius = f.radius * flicker;
    
    // Outer glow - intense fire
    const glowGradient = ctx.createRadialGradient(
      f.x, f.y, 0, 
      f.x, f.y, currentRadius * 1.5
    );
    glowGradient.addColorStop(0, `hsla(${f.hue}, 100%, 95%, ${f.alpha * 0.9})`);
    glowGradient.addColorStop(0.3, `hsla(${f.hue}, ${f.saturation}%, ${f.brightness}%, ${f.alpha * 0.7})`);
    glowGradient.addColorStop(0.6, `hsla(${f.hue + 15}, ${f.saturation - 15}%, ${f.brightness - 20}%, ${f.alpha * 0.4})`);
    glowGradient.addColorStop(1, "hsla(5, 80%, 10%, 0)"); // Deep red
    
    ctx.fillStyle = glowGradient;
    ctx.beginPath();
    ctx.arc(f.x, f.y, currentRadius * 1.5, 0, Math.PI * 2);
    ctx.fill();

    // Inner core - hot center
    const coreGradient = ctx.createRadialGradient(
      f.x, f.y, 0, 
      f.x, f.y, currentRadius
    );
    coreGradient.addColorStop(0, `hsla(${f.hue - 25}, 100%, 100%, ${f.alpha})`); // White-yellow
    coreGradient.addColorStop(0.4, `hsla(${f.hue - 10}, 100%, 90%, ${f.alpha * 0.9})`); // Bright yellow
    coreGradient.addColorStop(0.7, `hsla(${f.hue}, 100%, 75%, ${f.alpha * 0.6})`); // Orange
    coreGradient.addColorStop(1, `hsla(${f.hue + 20}, 90%, 50%, 0)`); // Red
    
    ctx.fillStyle = coreGradient;
    ctx.beginPath();
    ctx.arc(f.x, f.y, currentRadius, 0, Math.PI * 2);
    ctx.fill();

    // Motion
    f.y -= f.speed * flicker;
    f.x += (Math.random() - 0.5) * f.wobbleIntensity;
    f.life -= f.decay;
    f.alpha = f.life * 0.8;
    f.radius += (Math.random() - 0.5) * 0.5;

    if (f.life <= 0 || f.y < -100 || f.x < -100 || f.x > canvas.width + 100) {
      resetParticle(f);
    }
  });

  // Update sparks
  updateSparks();
  
  // Occasionally create new sparks
  if (Math.random() < 0.1) {
    createSpark();
  }

  requestAnimationFrame(animateFireWithSparks);
}

// Start the animation
animateFireWithSparks();

// Handle window resize
window.addEventListener("resize", () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}); 
    </script>
</body>
</html>